version: 5.11.1

type: DeclarativeSource

check:
  type: CheckStream
  stream_names:
    - company

definitions:
  streams:
    clients:
      type: DeclarativeStream
      name: clients
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /clients
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - clients
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/clients"
    company:
      type: DeclarativeStream
      name: company
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /company
          http_method: GET
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path: []
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/company"
    contacts:
      type: DeclarativeStream
      name: contacts
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /contacts
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - contacts
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/contacts"
    estimate_item_categories:
      type: DeclarativeStream
      name: estimate_item_categories
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /estimate_item_categories
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - estimate_item_categories
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/estimate_item_categories"
    estimates:
      type: DeclarativeStream
      name: estimates
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /estimates
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - estimates
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/estimates"
    expense_categories:
      type: DeclarativeStream
      name: expense_categories
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /expense_categories
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - expense_categories
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/expense_categories"
    expenses:
      type: DeclarativeStream
      name: expenses
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /expenses
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - expenses
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/expenses"
    invoice_item_categories:
      type: DeclarativeStream
      name: invoice_item_categories
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /invoice_item_categories
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - invoice_item_categories
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/invoice_item_categories"
    invoices:
      type: DeclarativeStream
      name: invoices
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /invoices
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - invoices
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/invoices"
    projects:
      type: DeclarativeStream
      name: projects
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /projects
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - projects
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/projects"
    roles:
      type: DeclarativeStream
      name: roles
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /roles
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - roles
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/roles"
    task_assignments:
      type: DeclarativeStream
      name: task_assignments
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /task_assignments
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - task_assignments
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/task_assignments"
    tasks:
      type: DeclarativeStream
      name: tasks
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /tasks
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - tasks
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/tasks"
    time_entries:
      type: DeclarativeStream
      name: time_entries
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /time_entries
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - time_entries
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/time_entries"
    user_assignments:
      type: DeclarativeStream
      name: user_assignments
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /user_assignments
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - user_assignments
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/user_assignments"
    users:
      type: DeclarativeStream
      name: users
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /users
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - users
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/users"
    expenses_categories:
      type: DeclarativeStream
      name: expenses_categories
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/expenses/categories
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/expenses_categories"
    expenses_clients:
      type: DeclarativeStream
      name: expenses_clients
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/expenses/clients
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/expenses_clients"
    expenses_projects:
      type: DeclarativeStream
      name: expenses_projects
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/expenses/projects
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/expenses_projects"
    expenses_team:
      type: DeclarativeStream
      name: expenses_team
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/expenses/team
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/expenses_team"
    project_budget:
      type: DeclarativeStream
      name: project_budget
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/project_budget
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/project_budget"
    time_clients:
      type: DeclarativeStream
      name: time_clients
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/time/clients
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/time_clients"
    time_projects:
      type: DeclarativeStream
      name: time_projects
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/time/projects
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/time_projects"
    time_tasks:
      type: DeclarativeStream
      name: time_tasks
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/time/tasks
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/time_tasks"
    time_team:
      type: DeclarativeStream
      name: time_team
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/time/team
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/time_team"
    uninvoiced:
      type: DeclarativeStream
      name: uninvoiced
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /reports/uninvoiced
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - results
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: to
        cursor_datetime_formats:
          - "%Y%m%d"
        datetime_format: "%Y%m%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: from
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: to
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        step: P365D
        cursor_granularity: P1D
      transformations:
        - type: AddFields
          fields:
            - path:
                - from
              value: "\"{{ stream_partition.start_time }}\""
        - type: AddFields
          fields:
            - path:
                - to
              value: "\"{{ stream_partition.end_time }}\""
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/uninvoiced"
    estimate_messages:
      type: DeclarativeStream
      name: estimate_messages
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /estimates/{{stream_partition.id}}/messages
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - estimate_messages
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: id
              stream:
                $ref: "#/definitions/streams/estimates"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      transformations:
        - type: AddFields
          fields:
            - path:
                - parent_id
              value: "{{stream_partition.id}}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/estimate_messages"
    invoice_messages:
      type: DeclarativeStream
      name: invoice_messages
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /invoices/{{stream_partition.id}}/messages
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - invoice_messages
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: id
              stream:
                $ref: "#/definitions/streams/invoices"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      transformations:
        - type: AddFields
          fields:
            - path:
                - parent_id
              value: "{{stream_partition.id}}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/invoice_messages"
    invoice_payments:
      type: DeclarativeStream
      name: invoice_payments
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /invoices/{{stream_partition.id}}/payments
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - invoice_payments
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: id
              stream:
                $ref: "#/definitions/streams/invoices"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      transformations:
        - type: AddFields
          fields:
            - path:
                - parent_id
              value: "{{stream_partition.id}}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/invoice_payments"
    project_assignments:
      type: DeclarativeStream
      name: project_assignments
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /users/{{stream_partition.id}}/project_assignments
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - project_assignments
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: id
              stream:
                $ref: "#/definitions/streams/users"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: "{{ config[\"replication_start_date\"] }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: updated_since
          inject_into: request_parameter
      transformations:
        - type: AddFields
          fields:
            - path:
                - parent_id
              value: "{{stream_partition.id}}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/project_assignments"
    billable_rates:
      type: DeclarativeStream
      name: billable_rates
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /users/{{stream_partition['id']}}/billable_rates
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - billable_rates
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: id
              stream:
                $ref: "#/definitions/streams/users"
      transformations:
        - type: AddFields
          fields:
            - path:
                - parent_id
              value: "{{stream_partition.id}}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/billable_rates"
    cost_rates:
      type: DeclarativeStream
      name: cost_rates
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /users/{{stream_partition.id}}/cost_rates
          http_method: GET
          request_parameters:
            per_page: "50"
          request_headers:
            Harvest-Account-Id: "{{ config['account_id'] }}"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                backoff_strategies:
                  - type: WaitTimeFromHeader
                    header: Retry-After
              - type: DefaultErrorHandler
                response_filters:
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 401
                    error_message: Please ensure your credentials are valid.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 403
                    error_message: >-
                      This is most likely due to insufficient permissions on the
                      credentials in use.
                  - type: HttpResponseFilter
                    action: IGNORE
                    http_codes:
                      - 404
                    error_message: >-
                      Please ensure that your account ID is properly set. If it
                      is the case and you are still seeing this error, please
                      contact Airbyte support.
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - cost_rates
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          pagination_strategy:
            type: CursorPagination
            page_size: 1
            cursor_value: "{{ response.get(\"links\", {}).get(\"next\", {}) }}"
            stop_condition: "{{ not response.get(\"links\", {}).get(\"next\", {}) }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: id
              stream:
                $ref: "#/definitions/streams/users"
      transformations:
        - type: AddFields
          fields:
            - path:
                - parent_id
              value: "{{stream_partition.id}}"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/cost_rates"
  base_requester:
    type: HttpRequester
    url_base: https://api.harvestapp.com/v2/
    authenticator:
      type: SelectiveAuthenticator
      authenticators:
        Token:
          type: BearerAuthenticator
          api_token: "{{ config['credentials']['api_token'] }}"
        Client:
          type: OAuthAuthenticator
          client_id: "{{ config['credentials']['client_id'] }}"
          grant_type: refresh_token
          client_secret: "{{ config['credentials']['client_secret'] }}"
          refresh_token: "{{ config['credentials']['refresh_token'] }}"
          refresh_request_body: {}
          token_refresh_endpoint: https://id.getharvest.com/api/v2/oauth2/token
      authenticator_selection_path:
        - credentials
        - auth_type

streams:
  - $ref: "#/definitions/streams/clients"
  - $ref: "#/definitions/streams/company"
  - $ref: "#/definitions/streams/contacts"
  - $ref: "#/definitions/streams/estimate_item_categories"
  - $ref: "#/definitions/streams/estimates"
  - $ref: "#/definitions/streams/expense_categories"
  - $ref: "#/definitions/streams/expenses"
  - $ref: "#/definitions/streams/invoice_item_categories"
  - $ref: "#/definitions/streams/invoices"
  - $ref: "#/definitions/streams/projects"
  - $ref: "#/definitions/streams/roles"
  - $ref: "#/definitions/streams/task_assignments"
  - $ref: "#/definitions/streams/tasks"
  - $ref: "#/definitions/streams/time_entries"
  - $ref: "#/definitions/streams/user_assignments"
  - $ref: "#/definitions/streams/users"
  - $ref: "#/definitions/streams/expenses_categories"
  - $ref: "#/definitions/streams/expenses_clients"
  - $ref: "#/definitions/streams/expenses_projects"
  - $ref: "#/definitions/streams/expenses_team"
  - $ref: "#/definitions/streams/project_budget"
  - $ref: "#/definitions/streams/time_clients"
  - $ref: "#/definitions/streams/time_projects"
  - $ref: "#/definitions/streams/time_tasks"
  - $ref: "#/definitions/streams/time_team"
  - $ref: "#/definitions/streams/uninvoiced"
  - $ref: "#/definitions/streams/estimate_messages"
  - $ref: "#/definitions/streams/invoice_messages"
  - $ref: "#/definitions/streams/invoice_payments"
  - $ref: "#/definitions/streams/project_assignments"
  - $ref: "#/definitions/streams/billable_rates"
  - $ref: "#/definitions/streams/cost_rates"

spec:
  type: Spec
  connection_specification:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    required:
      - account_id
      - replication_start_date
    properties:
      account_id:
        type: string
        description: >-
          Harvest account ID. Required for all Harvest requests in pair with
          Personal Access Token
        order: 0
        title: Account ID
        airbyte_secret: true
      replication_start_date:
        type: string
        description: >-
          UTC date and time in the format 2017-01-25T00:00:00Z. Any data before
          this date will not be replicated.
        order: 1
        title: Start Date
        format: date-time
        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$
        examples:
          - "2017-01-25T00:00:00Z"
      replication_end_date:
        type: string
        description: >-
          UTC date and time in the format 2017-01-25T00:00:00Z. Any data after
          this date will not be replicated.
        order: 2
        title: End Date
        format: date-time
        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$
        examples:
          - "2017-01-25T00:00:00Z"
        airbyte_hidden: true
      credentials:
        type: object
        description: Choose how to authenticate to Harvest.
        oneOf:
          - type: object
            title: Authenticate via Harvest (OAuth)
            required:
              - client_id
              - client_secret
              - refresh_token
            properties:
              auth_type:
                type: string
                const: Client
                order: 0
              client_id:
                type: string
                description: The Client ID of your Harvest developer application.
                title: Client ID
              client_secret:
                type: string
                description: The Client Secret of your Harvest developer application.
                title: Client Secret
                airbyte_secret: true
              refresh_token:
                type: string
                description: Refresh Token to renew the expired Access Token.
                title: Refresh Token
                airbyte_secret: true
            additionalProperties: true
          - type: object
            title: Authenticate with Personal Access Token
            required:
              - api_token
            properties:
              api_token:
                type: string
                description: >-
                  Log into Harvest and then create new <a
                  href="https://id.getharvest.com/developers"> personal access
                  token</a>.
                title: Personal Access Token
                airbyte_secret: true
              auth_type:
                type: string
                const: Token
                order: 0
            additionalProperties: true
        order: 3
        title: Authentication mechanism
    additionalProperties: true

metadata:
  autoImportSchema:
    clients: true
    company: true
    contacts: true
    estimate_item_categories: true
    estimates: true
    expense_categories: true
    expenses: true
    invoice_item_categories: true
    invoices: true
    projects: true
    roles: true
    task_assignments: true
    tasks: true
    time_entries: true
    user_assignments: true
    users: true
    expenses_categories: true
    expenses_clients: true
    expenses_projects: true
    expenses_team: true
    project_budget: true
    time_clients: true
    time_projects: true
    time_tasks: true
    time_team: true
    uninvoiced: true
    estimate_messages: true
    invoice_messages: true
    invoice_payments: true
    project_assignments: true
    billable_rates: true
    cost_rates: true
  testedStreams:
    clients:
      streamHash: 5dcccf404c1768804e22c901a69a98b52cd0e598
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    company:
      streamHash: 7bc5d1259eed5ddc73be9505e84cf8ad0cb7478d
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    contacts:
      streamHash: a1abc8b52a0304161fa918d01efd986294504be7
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    estimate_item_categories:
      streamHash: c2fb1a6fc4ce26b0beb93e4cb146fdf58e80bd52
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    estimates:
      streamHash: c296fa083f469f49c9d48f3fe8538fb56f68e3fd
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    expense_categories:
      streamHash: 32ee8b1cac3c8a326c966d5c7783badbdcba4f00
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    expenses:
      streamHash: ea2c315154bf3a0d36d8e4e97a33da9eb8faf589
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    invoice_item_categories:
      streamHash: 0dbddc70d0b028ef83a5d86008db790bcfd53163
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    invoices:
      streamHash: 9a9ae57ebb1c455c13cea8757f8196e270ac15c3
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    projects:
      streamHash: 87df9a706e32c2fce4deed8b0ba9120c777d2d8f
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    roles:
      streamHash: dca7a2781b7e495c9ae392a683b05a527a6a4264
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    task_assignments:
      streamHash: 95cf885be7a0d1aff9641def13784a4804bb8728
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    tasks:
      streamHash: e66dbc7fb95a571bb7013823939bb5a729b05d44
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    time_entries:
      streamHash: c742735781437f02e9104037d5a58c4f6faf82f5
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    user_assignments:
      streamHash: 3854eb979709b419646caccfb7f57e6ed65e4991
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    users:
      streamHash: f0762328f380b277a4acf1ff3dd788eb6b3cbc19
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    expenses_categories:
      streamHash: a2e4a65ac490702ed3274f2b3a955a206c4d3f53
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    expenses_clients:
      streamHash: 237a3960c0486d13b868b0b78b4d20c045aa84d7
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    expenses_projects:
      streamHash: af85f2663812b7c604a9259d1638474fff2d710d
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    expenses_team:
      streamHash: 6e34966f50586faadfbfb70e7bd000fe97206e98
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    project_budget:
      streamHash: 13a5d2616d09070ae3da63739c6eb88e87755502
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    time_clients:
      streamHash: afba3b9ef83b350af5650875fa6595cc0d3955b2
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    time_projects:
      streamHash: cb63360ec6fd61803a2238835c7d1bc16d7d9790
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    time_tasks:
      streamHash: 736d82818a6ebc2befc787e5d87572571bcf9020
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    time_team:
      streamHash: 478d78b06c16060ad4c543664e6b555aa907a46d
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    uninvoiced:
      streamHash: 79eb9baf984acf6ef8934b2b19d3b93127d73a0f
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    estimate_messages:
      streamHash: 9ba3f71d9dd9aad93fc9e54603840de7363ce74a
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    invoice_messages:
      streamHash: d3dd6385d7966ce4ac70f916e449eab481b37e51
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    invoice_payments:
      streamHash: 83ceefd942808457b048bbb66a4431018f9d4cd5
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    project_assignments:
      streamHash: 9f23b0761304743d5e7d11273bbc2c82e00d653d
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    billable_rates:
      streamHash: 88b2b3b358a2d160b97f05546a45e595e32397c6
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    cost_rates:
      streamHash: 7e095c7c2c8188624c193fdc43bae58dde81e07f
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
  assist: {}

schemas:
  clients:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      statement_key:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  company:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      approval_feature:
        type:
          - boolean
          - "null"
      base_uri:
        type:
          - string
          - "null"
      clock:
        type:
          - string
          - "null"
      color_scheme:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      currency_code_display:
        type:
          - string
          - "null"
      currency_symbol_display:
        type:
          - string
          - "null"
      date_format:
        type:
          - string
          - "null"
      day_entry_notes_required:
        type:
          - boolean
          - "null"
      decimal_symbol:
        type:
          - string
          - "null"
      estimate_feature:
        type:
          - boolean
          - "null"
      expense_feature:
        type:
          - boolean
          - "null"
      full_domain:
        type:
          - string
          - "null"
      invoice_feature:
        type:
          - boolean
          - "null"
      is_active:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      plan_type:
        type:
          - string
          - "null"
      saml_sign_in_required:
        type:
          - boolean
          - "null"
      team_feature:
        type:
          - boolean
          - "null"
      thousands_separator:
        type:
          - string
          - "null"
      time_format:
        type:
          - string
          - "null"
      wants_timestamp_timers:
        type:
          - boolean
          - "null"
      week_start_day:
        type:
          - string
          - "null"
      weekly_capacity:
        type:
          - number
          - "null"
  contacts:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      client:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      created_at:
        type:
          - string
          - "null"
      email:
        type:
          - string
          - "null"
      fax:
        type:
          - string
          - "null"
      first_name:
        type:
          - string
          - "null"
      id:
        type: number
      last_name:
        type:
          - string
          - "null"
      phone_mobile:
        type:
          - string
          - "null"
      phone_office:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  estimate_item_categories:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  estimates:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      amount:
        type:
          - number
          - "null"
      client:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      client_key:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      creator:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      currency:
        type:
          - string
          - "null"
      discount_amount:
        type:
          - number
          - "null"
      id:
        type: number
      issue_date:
        type:
          - string
          - "null"
      line_items:
        type:
          - array
          - "null"
      notes:
        type:
          - string
          - "null"
      number:
        type:
          - string
          - "null"
      purchase_order:
        type:
          - string
          - "null"
      sent_at:
        type:
          - string
          - "null"
      state:
        type:
          - string
          - "null"
      subject:
        type:
          - string
          - "null"
      tax2_amount:
        type:
          - number
          - "null"
      tax_amount:
        type:
          - number
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  expense_categories:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      unit_name:
        type:
          - string
          - "null"
      unit_price:
        type:
          - number
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  expenses:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable:
        type:
          - boolean
          - "null"
      client:
        type:
          - object
          - "null"
        properties:
          currency:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      created_at:
        type:
          - string
          - "null"
      expense_category:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      id:
        type: number
      is_billed:
        type:
          - boolean
          - "null"
      is_closed:
        type:
          - boolean
          - "null"
      is_locked:
        type:
          - boolean
          - "null"
      notes:
        type:
          - string
          - "null"
      project:
        type:
          - object
          - "null"
        properties:
          code:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      spent_date:
        type:
          - string
          - "null"
      total_cost:
        type:
          - number
          - "null"
      units:
        type:
          - number
          - "null"
      updated_at:
        type: string
      user:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      user_assignment:
        type:
          - object
          - "null"
        properties:
          budget:
            type:
              - number
              - "null"
          created_at:
            type:
              - string
              - "null"
          hourly_rate:
            type:
              - number
              - "null"
          id:
            type:
              - number
              - "null"
          is_active:
            type:
              - boolean
              - "null"
          is_project_manager:
            type:
              - boolean
              - "null"
          updated_at:
            type:
              - string
              - "null"
          use_default_rates:
            type:
              - boolean
              - "null"
    required:
      - id
      - updated_at
  invoice_item_categories:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      updated_at:
        type: string
      use_as_expense:
        type:
          - boolean
          - "null"
      use_as_service:
        type:
          - boolean
          - "null"
    required:
      - id
      - updated_at
  invoices:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      amount:
        type:
          - number
          - "null"
      client:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      client_key:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      creator:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      currency:
        type:
          - string
          - "null"
      discount:
        type:
          - number
          - "null"
      discount_amount:
        type:
          - number
          - "null"
      due_amount:
        type:
          - number
          - "null"
      due_date:
        type:
          - string
          - "null"
      id:
        type: number
      issue_date:
        type:
          - string
          - "null"
      line_items:
        type:
          - array
          - "null"
        items:
          type:
            - object
            - "null"
          properties:
            description:
              type:
                - string
                - "null"
            amount:
              type:
                - number
                - "null"
            id:
              type:
                - number
                - "null"
            kind:
              type:
                - string
                - "null"
            project:
              type:
                - object
                - "null"
              properties:
                code:
                  type:
                    - string
                    - "null"
                id:
                  type:
                    - number
                    - "null"
                name:
                  type:
                    - string
                    - "null"
            quantity:
              type:
                - number
                - "null"
            taxed:
              type:
                - boolean
                - "null"
            taxed2:
              type:
                - boolean
                - "null"
            unit_price:
              type:
                - number
                - "null"
      notes:
        type:
          - string
          - "null"
      number:
        type:
          - string
          - "null"
      paid_at:
        type:
          - string
          - "null"
      paid_date:
        type:
          - string
          - "null"
      payment_options:
        type:
          - array
          - "null"
      payment_term:
        type:
          - string
          - "null"
      period_end:
        type:
          - string
          - "null"
      period_start:
        type:
          - string
          - "null"
      purchase_order:
        type:
          - string
          - "null"
      sent_at:
        type:
          - string
          - "null"
      state:
        type:
          - string
          - "null"
      subject:
        type:
          - string
          - "null"
      tax2_amount:
        type:
          - number
          - "null"
      tax_amount:
        type:
          - number
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  projects:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      bill_by:
        type:
          - string
          - "null"
      budget:
        type:
          - number
          - "null"
      budget_by:
        type:
          - string
          - "null"
      budget_is_monthly:
        type:
          - boolean
          - "null"
      client:
        type:
          - object
          - "null"
        properties:
          currency:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      code:
        type:
          - string
          - "null"
      cost_budget:
        type:
          - number
          - "null"
      cost_budget_include_expenses:
        type:
          - boolean
          - "null"
      created_at:
        type:
          - string
          - "null"
      fee:
        type:
          - number
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      is_billable:
        type:
          - boolean
          - "null"
      is_fixed_fee:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      notes:
        type:
          - string
          - "null"
      notify_when_over_budget:
        type:
          - boolean
          - "null"
      over_budget_notification_percentage:
        type:
          - number
          - "null"
      show_budget_to_all:
        type:
          - boolean
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  roles:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      updated_at:
        type: string
      user_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
    required:
      - id
      - updated_at
  task_assignments:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      billable:
        type:
          - "null"
          - boolean
        description: Indicates if the task assignment is billable or not
      budget:
        type:
          - "null"
          - string
        description: The budget allocated for this task assignment
      created_at:
        type:
          - "null"
          - string
        description: The date and time when the task assignment was created
        format: date-time
      hourly_rate:
        type:
          - "null"
          - number
        description: The hourly rate for this task assignment
      id:
        type:
          - "null"
          - integer
        description: Unique identifier for the task assignment
      is_active:
        type:
          - "null"
          - boolean
        description: Indicates if the task assignment is currently active
      project:
        type:
          - "null"
          - object
        description: Details about the project the task assignment is associated with.
        properties:
          code:
            type:
              - "null"
              - string
            description: The code assigned to the project
          id:
            type:
              - "null"
              - integer
            description: Unique identifier for the project
          name:
            type:
              - "null"
              - string
            description: The name of the project
      task:
        type:
          - "null"
          - object
        description: Information related to the task assigned.
        properties:
          id:
            type:
              - "null"
              - integer
            description: Unique identifier for the task
          name:
            type:
              - "null"
              - string
            description: The name of the task
      updated_at:
        type:
          - "null"
          - string
        description: The date and time when the task assignment was last updated
        format: date-time
  tasks:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_by_default:
        type:
          - boolean
          - "null"
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      is_default:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  time_entries:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable:
        type:
          - boolean
          - "null"
      billable_rate:
        type:
          - number
          - "null"
      budgeted:
        type:
          - boolean
          - "null"
      client:
        type:
          - object
          - "null"
        properties:
          currency:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      cost_rate:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      hours:
        type:
          - number
          - "null"
      hours_without_timer:
        type:
          - number
          - "null"
      id:
        type: number
      invoice:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          number:
            type:
              - string
              - "null"
      is_billed:
        type:
          - boolean
          - "null"
      is_closed:
        type:
          - boolean
          - "null"
      is_locked:
        type:
          - boolean
          - "null"
      is_running:
        type:
          - boolean
          - "null"
      locked_reason:
        type:
          - string
          - "null"
      notes:
        type:
          - string
          - "null"
      project:
        type:
          - object
          - "null"
        properties:
          code:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      rounded_hours:
        type:
          - number
          - "null"
      spent_date:
        type:
          - string
          - "null"
      task:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      task_assignment:
        type:
          - object
          - "null"
        properties:
          billable:
            type:
              - boolean
              - "null"
          created_at:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          is_active:
            type:
              - boolean
              - "null"
          updated_at:
            type:
              - string
              - "null"
      updated_at:
        type: string
      user:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      user_assignment:
        type:
          - object
          - "null"
        properties:
          budget:
            type:
              - number
              - "null"
          created_at:
            type:
              - string
              - "null"
          hourly_rate:
            type:
              - number
              - "null"
          id:
            type:
              - number
              - "null"
          is_active:
            type:
              - boolean
              - "null"
          is_project_manager:
            type:
              - boolean
              - "null"
          updated_at:
            type:
              - string
              - "null"
          use_default_rates:
            type:
              - boolean
              - "null"
    required:
      - id
      - updated_at
  user_assignments:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      budget:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      hourly_rate:
        type:
          - number
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      is_project_manager:
        type:
          - boolean
          - "null"
      project:
        type:
          - object
          - "null"
        properties:
          code:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      updated_at:
        type: string
      use_default_rates:
        type:
          - boolean
          - "null"
      user:
        type:
          - object
          - "null"
        properties:
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
    required:
      - id
      - updated_at
  users:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      access_roles:
        type:
          - array
          - "null"
        items:
          type:
            - string
            - "null"
      avatar_url:
        type:
          - string
          - "null"
      calendar_integration_enabled:
        type:
          - boolean
          - "null"
      can_create_projects:
        type:
          - boolean
          - "null"
      cost_rate:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      default_hourly_rate:
        type:
          - number
          - "null"
      email:
        type:
          - string
          - "null"
      first_name:
        type:
          - string
          - "null"
      has_access_to_all_future_projects:
        type:
          - boolean
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      is_contractor:
        type:
          - boolean
          - "null"
      last_name:
        type:
          - string
          - "null"
      permissions_claims:
        type:
          - array
          - "null"
        items:
          type:
            - string
            - "null"
      roles:
        type:
          - array
          - "null"
        items:
          type:
            - string
            - "null"
      telephone:
        type:
          - string
          - "null"
      timezone:
        type:
          - string
          - "null"
      updated_at:
        type: string
      weekly_capacity:
        type:
          - number
          - "null"
    required:
      - id
      - updated_at
  expenses_categories:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      currency:
        type:
          - string
          - "null"
      expense_category_id:
        type:
          - number
          - "null"
      expense_category_name:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      to:
        type: string
      total_amount:
        type:
          - number
          - "null"
    required:
      - to
  expenses_clients:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      client_id:
        type:
          - number
          - "null"
      client_name:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      to:
        type: string
      total_amount:
        type:
          - number
          - "null"
    required:
      - to
  expenses_projects:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      client_id:
        type:
          - number
          - "null"
      client_name:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      project_id:
        type:
          - number
          - "null"
      project_name:
        type:
          - string
          - "null"
      to:
        type: string
      total_amount:
        type:
          - number
          - "null"
    required:
      - to
  expenses_team:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      is_contractor:
        type:
          - boolean
          - "null"
      to:
        type: string
      total_amount:
        type:
          - number
          - "null"
      user_id:
        type:
          - number
          - "null"
      user_name:
        type:
          - string
          - "null"
    required:
      - to
  project_budget:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      budget:
        type:
          - number
          - "null"
      budget_by:
        type:
          - string
          - "null"
      budget_is_monthly:
        type:
          - boolean
          - "null"
      budget_remaining:
        type:
          - number
          - "null"
      budget_spent:
        type:
          - number
          - "null"
      client_id:
        type:
          - number
          - "null"
      client_name:
        type:
          - string
          - "null"
      is_active:
        type:
          - boolean
          - "null"
      project_id:
        type:
          - number
          - "null"
      project_name:
        type:
          - string
          - "null"
  time_clients:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      billable_hours:
        type:
          - number
          - "null"
      client_id:
        type:
          - number
          - "null"
      client_name:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      to:
        type: string
      total_hours:
        type:
          - number
          - "null"
    required:
      - to
  time_projects:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      billable_hours:
        type:
          - number
          - "null"
      client_id:
        type:
          - number
          - "null"
      client_name:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      project_id:
        type:
          - number
          - "null"
      project_name:
        type:
          - string
          - "null"
      to:
        type: string
      total_hours:
        type:
          - number
          - "null"
    required:
      - to
  time_tasks:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      billable_amount:
        type:
          - number
          - "null"
      billable_hours:
        type:
          - number
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      task_id:
        type:
          - number
          - "null"
      task_name:
        type:
          - string
          - "null"
      to:
        type: string
      total_hours:
        type:
          - number
          - "null"
    required:
      - to
  time_team:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      avatar_url:
        type:
          - string
          - "null"
      billable_amount:
        type:
          - number
          - "null"
      billable_hours:
        type:
          - number
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      is_contractor:
        type:
          - boolean
          - "null"
      to:
        type: string
      total_hours:
        type:
          - number
          - "null"
      user_id:
        type:
          - number
          - "null"
      user_name:
        type:
          - string
          - "null"
      weekly_capacity:
        type:
          - number
          - "null"
    required:
      - to
  uninvoiced:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      client_id:
        type:
          - number
          - "null"
      client_name:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      from:
        type:
          - string
          - "null"
      project_id:
        type:
          - number
          - "null"
      project_name:
        type:
          - string
          - "null"
      to:
        type: string
      total_hours:
        type:
          - number
          - "null"
      uninvoiced_amount:
        type:
          - number
          - "null"
      uninvoiced_expenses:
        type:
          - number
          - "null"
      uninvoiced_hours:
        type:
          - number
          - "null"
    required:
      - to
  estimate_messages:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      body:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      parent_id:
        type:
          - number
          - "null"
      recipients:
        type:
          - array
          - "null"
        items:
          type:
            - object
            - "null"
          properties:
            email:
              type:
                - string
                - "null"
            name:
              type:
                - string
                - "null"
      send_me_a_copy:
        type:
          - boolean
          - "null"
      sent_by:
        type:
          - string
          - "null"
      sent_by_email:
        type:
          - string
          - "null"
      sent_from:
        type:
          - string
          - "null"
      sent_from_email:
        type:
          - string
          - "null"
      subject:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  invoice_messages:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      attach_pdf:
        type:
          - boolean
          - "null"
      body:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      include_link_to_client_invoice:
        type:
          - boolean
          - "null"
      parent_id:
        type:
          - number
          - "null"
      recipients:
        type:
          - array
          - "null"
        items:
          type:
            - object
            - "null"
          properties:
            email:
              type:
                - string
                - "null"
            name:
              type:
                - string
                - "null"
      reminder:
        type:
          - boolean
          - "null"
      send_me_a_copy:
        type:
          - boolean
          - "null"
      sent_by:
        type:
          - string
          - "null"
      sent_by_email:
        type:
          - string
          - "null"
      sent_from:
        type:
          - string
          - "null"
      sent_from_email:
        type:
          - string
          - "null"
      subject:
        type:
          - string
          - "null"
      thank_you:
        type:
          - boolean
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  invoice_payments:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      amount:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      notes:
        type:
          - string
          - "null"
      paid_at:
        type:
          - string
          - "null"
      paid_date:
        type:
          - string
          - "null"
      parent_id:
        type:
          - number
          - "null"
      payment_gateway:
        type:
          - object
          - "null"
        properties: {}
      recorded_by:
        type:
          - string
          - "null"
      recorded_by_email:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  project_assignments:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      budget:
        type:
          - number
          - "null"
      client:
        type:
          - object
          - "null"
        properties:
          currency:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          name:
            type:
              - string
              - "null"
      created_at:
        type:
          - string
          - "null"
      hourly_rate:
        type:
          - number
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      is_project_manager:
        type:
          - boolean
          - "null"
      parent_id:
        type:
          - number
          - "null"
      project:
        type:
          - object
          - "null"
        properties:
          code:
            type:
              - string
              - "null"
          id:
            type:
              - number
              - "null"
          is_billable:
            type:
              - boolean
              - "null"
          name:
            type:
              - string
              - "null"
      task_assignments:
        type:
          - array
          - "null"
        items:
          type:
            - object
            - "null"
          properties:
            billable:
              type:
                - boolean
                - "null"
            created_at:
              type:
                - string
                - "null"
            id:
              type:
                - number
                - "null"
            is_active:
              type:
                - boolean
                - "null"
            task:
              type:
                - object
                - "null"
              properties:
                id:
                  type:
                    - number
                    - "null"
                name:
                  type:
                    - string
                    - "null"
            updated_at:
              type:
                - string
                - "null"
      updated_at:
        type: string
      use_default_rates:
        type:
          - boolean
          - "null"
    required:
      - id
      - updated_at
  billable_rates:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      amount:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      parent_id:
        type:
          - number
          - "null"
      updated_at:
        type:
          - string
          - "null"
    required:
      - id
  cost_rates:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      amount:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      id:
        type: number
      parent_id:
        type:
          - number
          - "null"
      updated_at:
        type:
          - string
          - "null"
    required:
      - id
